
@model DealDouble.Web.ViewModels.AuctionListingViewModel



    <div id="listArea">
        <table class="table table-hover">
            <thaed>
                <tr>
                    <th> Title</th>
                    <th> Descrition</th>
                    <th> ActualAmount</th>
                    <th> StartingTime</th>
                    <th> EndingTime</th>
                    <th> Actions</th>

                </tr>
            </thaed>
            <tbody>
                @foreach (var auction in Model.Auctions)
                {
                    <tr>
                        <td> @auction.Title</td>
                        <td>
                            @auction.Description
                        </td>
                        <td>
                            @auction.ActualAmount
                        </td>
                        <td>
                            @auction.StartingTime
                        </td>
                        <td>
                            @auction.EndingTime
                        </td>
                        <td>
                            <button class=" DeleteBtn btn btn-danger" Data_id="@auction.ID">Delete</button>
                            <button class="EditBtn btn btn-primary" Data_id="@auction.ID" data-toggle="modal" data-target="#formModal">Edit</button>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>


<script>
            $(".EditBtn").click(function () {
                    $.ajax({
                        url: "@Url.Action("edit","Auctions")",
                        method: "get",
                        data: {
                            ID: $(this).attr("Data_id")
                        }
                    }).done(function (response) {
                        $("#ContentArea").html(response);
                    });
                });
                $(".DeleteBtn").click(function () {
                    var result = confirm("Are you sure to delete this Auction!");
                    if (result == true) {
                        $.ajax({
                            url: "@Url.Action("delete","Auctions")",
                            method: "post",
                            data: {
                                ID: $(this).attr("Data_id")
                            }
                        }).done(function (response) {
                            $("#listArea").html(response);
                        });
                    }
                });
</script>






